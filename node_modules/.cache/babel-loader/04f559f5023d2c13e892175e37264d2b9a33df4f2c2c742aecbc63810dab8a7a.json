{"ast":null,"code":"import React,{useEffect,useRef}from'react';import'./BattleLog.css';import{useGame}from'../../contexts/GameContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BattleLog=()=>{const{state}=useGame();const{battleLogs}=state;const logContentRef=useRef(null);// 自动滚动到最新日志\nuseEffect(()=>{if(logContentRef.current){logContentRef.current.scrollTop=0;}},[battleLogs]);return/*#__PURE__*/_jsxs(\"div\",{className:\"battle-log\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"log-title\",children:\"\\u6218\\u6597\\u65E5\\u5FD7\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"log-content\",ref:logContentRef,children:[battleLogs.map(log=>/*#__PURE__*/_jsx(\"div\",{className:`log-entry ${log.isCritical?'critical':''}`,children:log.text},log.id)),battleLogs.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"log-empty\",children:\"\\u6218\\u6597\\u5C1A\\u672A\\u5F00\\u59CB...\"})]})]});};export default BattleLog;","map":{"version":3,"names":["React","useEffect","useRef","useGame","jsx","_jsx","jsxs","_jsxs","BattleLog","state","battleLogs","logContentRef","current","scrollTop","className","children","ref","map","log","isCritical","text","id","length"],"sources":["D:/mm-rpg-react/src/components/BattleLog/BattleLog.jsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\r\nimport './BattleLog.css';\r\nimport { useGame } from '../../contexts/GameContext';\r\n\r\nconst BattleLog = () => {\r\n    const { state } = useGame();\r\n    const { battleLogs } = state;\r\n    const logContentRef = useRef(null);\r\n\r\n    // 自动滚动到最新日志\r\n    useEffect(() => {\r\n        if (logContentRef.current) {\r\n            logContentRef.current.scrollTop = 0;\r\n        }\r\n    }, [battleLogs]);\r\n\r\n    return (\r\n        <div className=\"battle-log\">\r\n            <div className=\"log-title\">战斗日志</div>\r\n            <div className=\"log-content\" ref={logContentRef}>\r\n                {battleLogs.map((log) => (\r\n                    <div\r\n                        key={log.id}\r\n                        className={`log-entry ${log.isCritical ? 'critical' : ''}`}\r\n                    >\r\n                        {log.text}\r\n                    </div>\r\n                ))}\r\n                {battleLogs.length === 0 && (\r\n                    <div className=\"log-empty\">战斗尚未开始...</div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default BattleLog;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAChD,MAAO,iBAAiB,CACxB,OAASC,OAAO,KAAQ,4BAA4B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAErD,KAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,CACpB,KAAM,CAAEC,KAAM,CAAC,CAAGN,OAAO,CAAC,CAAC,CAC3B,KAAM,CAAEO,UAAW,CAAC,CAAGD,KAAK,CAC5B,KAAM,CAAAE,aAAa,CAAGT,MAAM,CAAC,IAAI,CAAC,CAElC;AACAD,SAAS,CAAC,IAAM,CACZ,GAAIU,aAAa,CAACC,OAAO,CAAE,CACvBD,aAAa,CAACC,OAAO,CAACC,SAAS,CAAG,CAAC,CACvC,CACJ,CAAC,CAAE,CAACH,UAAU,CAAC,CAAC,CAEhB,mBACIH,KAAA,QAAKO,SAAS,CAAC,YAAY,CAAAC,QAAA,eACvBV,IAAA,QAAKS,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAC,0BAAI,CAAK,CAAC,cACrCR,KAAA,QAAKO,SAAS,CAAC,aAAa,CAACE,GAAG,CAAEL,aAAc,CAAAI,QAAA,EAC3CL,UAAU,CAACO,GAAG,CAAEC,GAAG,eAChBb,IAAA,QAEIS,SAAS,CAAE,aAAaI,GAAG,CAACC,UAAU,CAAG,UAAU,CAAG,EAAE,EAAG,CAAAJ,QAAA,CAE1DG,GAAG,CAACE,IAAI,EAHJF,GAAG,CAACG,EAIR,CACR,CAAC,CACDX,UAAU,CAACY,MAAM,GAAK,CAAC,eACpBjB,IAAA,QAAKS,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAC,yCAAS,CAAK,CAC5C,EACA,CAAC,EACL,CAAC,CAEd,CAAC,CAED,cAAe,CAAAP,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}