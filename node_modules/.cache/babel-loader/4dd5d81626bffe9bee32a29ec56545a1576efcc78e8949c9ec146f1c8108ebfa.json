{"ast":null,"code":"var _jsxFileName = \"D:\\\\mm-rpg-react\\\\src\\\\components\\\\BattleArea\\\\BattleArea.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport './BattleArea.css';\nimport { useGame } from '../../contexts/GameContext';\n\n// 角色组件\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Character = ({\n  character,\n  emoji,\n  isPlayer,\n  isAttacking,\n  isDamaged\n}) => {\n  const healthPercent = character.currentHealth / character.maxHealth * 100;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `character-container ${isPlayer ? 'player' : 'monster'}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"character-info\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"character-name\",\n        children: character.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 12,\n        columnNumber: 17\n      }, this), character.level && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"character-level\",\n        children: [\"Lv.\", character.level]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 13,\n        columnNumber: 37\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"health-bar\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"health-bar-fill\",\n        style: {\n          width: `${healthPercent}%`,\n          backgroundColor: healthPercent < 30 ? '#ff4d4d' : '#4CAF50'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"health-text\",\n        children: [character.currentHealth, \" / \", character.maxHealth]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `character ${isAttacking ? 'attacking' : ''} ${isDamaged ? 'damaged' : ''}`,\n      children: emoji || (isPlayer ? '😎' : '👹')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 10,\n    columnNumber: 9\n  }, this);\n};\n\n// 战斗区域主组件\n_c = Character;\nconst BattleArea = () => {\n  _s();\n  const {\n    state,\n    dispatch\n  } = useGame();\n  const {\n    player,\n    monster,\n    playerAttacking,\n    monsterAttacking,\n    playerDamaged,\n    monsterDamaged,\n    selectedBattlefield,\n    gameRunning\n  } = state;\n\n  // 返回选择页面\n  const handleReturnToSelect = () => {\n    dispatch({\n      type: 'RETURN_TO_SELECT'\n    });\n  };\n\n  // 暂停/继续游戏\n  const toggleGameRunning = () => {\n    dispatch({\n      type: 'TOGGLE_GAME'\n    });\n  };\n\n  // 设置背景色\n  const battlefieldStyle = {\n    backgroundColor: (selectedBattlefield === null || selectedBattlefield === void 0 ? void 0 : selectedBattlefield.background) || '#e6f7ff'\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"battle-area\",\n    style: battlefieldStyle,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"battlefield-info\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"return-button\",\n        onClick: handleReturnToSelect,\n        children: \"\\u2190 \\u8FD4\\u56DE\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"battlefield-name\",\n        children: (selectedBattlefield === null || selectedBattlefield === void 0 ? void 0 : selectedBattlefield.name) || '战场'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"toggle-button\",\n        onClick: toggleGameRunning,\n        children: gameRunning ? '⏸️ 暂停' : '▶️ 继续'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"experience-display\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"exp-bar\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"exp-fill\",\n          style: {\n            width: `${player.experience / player.expToNextLevel * 100}%`\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"exp-text\",\n          children: [\"Lv.\", player.level, \" - \\u7ECF\\u9A8C: \", player.experience, \"/\", player.expToNextLevel]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"battle-characters\",\n      children: [/*#__PURE__*/_jsxDEV(Character, {\n        character: player,\n        isPlayer: true,\n        isAttacking: playerAttacking,\n        isDamaged: playerDamaged\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"battle-vs\",\n        children: \"VS\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this), monster && /*#__PURE__*/_jsxDEV(Character, {\n        character: monster,\n        emoji: monster.emoji,\n        isPlayer: false,\n        isAttacking: monsterAttacking,\n        isDamaged: monsterDamaged\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 9\n  }, this);\n};\n_s(BattleArea, \"0Ezd+lYqYM4Ze1hEY5mBTpMQDZc=\", false, function () {\n  return [useGame];\n});\n_c2 = BattleArea;\nexport default BattleArea;\nvar _c, _c2;\n$RefreshReg$(_c, \"Character\");\n$RefreshReg$(_c2, \"BattleArea\");","map":{"version":3,"names":["React","useGame","jsxDEV","_jsxDEV","Character","character","emoji","isPlayer","isAttacking","isDamaged","healthPercent","currentHealth","maxHealth","className","children","name","fileName","_jsxFileName","lineNumber","columnNumber","level","style","width","backgroundColor","_c","BattleArea","_s","state","dispatch","player","monster","playerAttacking","monsterAttacking","playerDamaged","monsterDamaged","selectedBattlefield","gameRunning","handleReturnToSelect","type","toggleGameRunning","battlefieldStyle","background","onClick","experience","expToNextLevel","_c2","$RefreshReg$"],"sources":["D:/mm-rpg-react/src/components/BattleArea/BattleArea.jsx"],"sourcesContent":["import React from 'react';\r\nimport './BattleArea.css';\r\nimport { useGame } from '../../contexts/GameContext';\r\n\r\n// 角色组件\r\nconst Character = ({ character, emoji, isPlayer, isAttacking, isDamaged }) => {\r\n    const healthPercent = (character.currentHealth / character.maxHealth) * 100;\r\n\r\n    return (\r\n        <div className={`character-container ${isPlayer ? 'player' : 'monster'}`}>\r\n            <div className=\"character-info\">\r\n                <div className=\"character-name\">{character.name}</div>\r\n                {character.level && <div className=\"character-level\">Lv.{character.level}</div>}\r\n            </div>\r\n\r\n            <div className=\"health-bar\">\r\n                <div\r\n                    className=\"health-bar-fill\"\r\n                    style={{\r\n                        width: `${healthPercent}%`,\r\n                        backgroundColor: healthPercent < 30 ? '#ff4d4d' : '#4CAF50'\r\n                    }}\r\n                ></div>\r\n                <div className=\"health-text\">{character.currentHealth} / {character.maxHealth}</div>\r\n            </div>\r\n\r\n            <div\r\n                className={`character ${isAttacking ? 'attacking' : ''} ${isDamaged ? 'damaged' : ''}`}\r\n            >\r\n                {emoji || (isPlayer ? '😎' : '👹')}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n// 战斗区域主组件\r\nconst BattleArea = () => {\r\n    const { state, dispatch } = useGame();\r\n    const {\r\n        player,\r\n        monster,\r\n        playerAttacking,\r\n        monsterAttacking,\r\n        playerDamaged,\r\n        monsterDamaged,\r\n        selectedBattlefield,\r\n        gameRunning\r\n    } = state;\r\n\r\n    // 返回选择页面\r\n    const handleReturnToSelect = () => {\r\n        dispatch({ type: 'RETURN_TO_SELECT' });\r\n    };\r\n\r\n    // 暂停/继续游戏\r\n    const toggleGameRunning = () => {\r\n        dispatch({ type: 'TOGGLE_GAME' });\r\n    };\r\n\r\n    // 设置背景色\r\n    const battlefieldStyle = {\r\n        backgroundColor: selectedBattlefield?.background || '#e6f7ff'\r\n    };\r\n\r\n    return (\r\n        <div className=\"battle-area\" style={battlefieldStyle}>\r\n            {/* 战场信息 */}\r\n            <div className=\"battlefield-info\">\r\n                <button className=\"return-button\" onClick={handleReturnToSelect}>\r\n                    ← 返回\r\n                </button>\r\n                <div className=\"battlefield-name\">{selectedBattlefield?.name || '战场'}</div>\r\n                <button className=\"toggle-button\" onClick={toggleGameRunning}>\r\n                    {gameRunning ? '⏸️ 暂停' : '▶️ 继续'}\r\n                </button>\r\n            </div>\r\n\r\n            {/* 经验条 */}\r\n            <div className=\"experience-display\">\r\n                <div className=\"exp-bar\">\r\n                    <div\r\n                        className=\"exp-fill\"\r\n                        style={{ width: `${(player.experience / player.expToNextLevel) * 100}%` }}\r\n                    ></div>\r\n                    <div className=\"exp-text\">\r\n                        Lv.{player.level} - 经验: {player.experience}/{player.expToNextLevel}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* 战斗区域 */}\r\n            <div className=\"battle-characters\">\r\n                <Character\r\n                    character={player}\r\n                    isPlayer={true}\r\n                    isAttacking={playerAttacking}\r\n                    isDamaged={playerDamaged}\r\n                />\r\n\r\n                <div className=\"battle-vs\">VS</div>\r\n\r\n                {monster && (\r\n                    <Character\r\n                        character={monster}\r\n                        emoji={monster.emoji}\r\n                        isPlayer={false}\r\n                        isAttacking={monsterAttacking}\r\n                        isDamaged={monsterDamaged}\r\n                    />\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default BattleArea;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}